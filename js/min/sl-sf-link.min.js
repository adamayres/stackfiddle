/**
 * Scriptloader
 *    https://github.com/adamayres/stackfiddle/
 *  
 * Copyright (c) 2012, Adam Ayres 
 * 
 * Licensed under the MIT license:
 *    https://stackfiddle.com/MIT-LICENSE.txt
 *
 * Thu Jan 12 01:43:59 PST 2012
 */
var ScriptLoader=function(){var a=document.head||document.getElementsByTagName("head")[0]||document.documentElement,b={},c=function(a,b){var c=!1,d=a.split("."),e=b.split(".");for(var f=0;f<e.length;f++){if(d[f]>e[f]){c=!0;break}d[f]==e[f]?c=!0:c=!1}return c},d=function(c,d,e){b.hasOwnProperty(c)||(b[c]=!1,d.onload=d.onreadystatechange=function(f,g){b[c]=!0;if(!d.readyState||/loaded|complete/.test(d.readyState))d.onload=d.onreadystatechange=null,!a||!d.parentNode,d=undefined,typeof e=="function"&&e()},a.insertBefore(d,a.firstChild))},e=function(a,b){var c=document.createElement("script");c.setAttribute("async","async"),c.setAttribute("src",a),c.setAttribute("type","text/javascript"),d(a,c,b)},f=function(a){var b=document.createElement("link");b.setAttribute("href",a),b.setAttribute("rel","stylesheet"),b.setAttribute("type","text/css"),d(a,b)};return{addJs:function(a,b){e(a,b)},addCss:function(a){f(a)},isAssetLoaded:function(a){return b[a]||!1},isVersionLoaded:function(a,b){return c(a,b)}}}();
/**
 * StackFiddle
 *    https://github.com/adamayres/stackfiddle/
 *  
 * Copyright (c) 2012, Adam Ayres 
 * 
 * Licensed under the MIT license:
 *    https://stackfiddle.com/MIT-LICENSE.txt
 *
 * Thu Jan 12 01:43:59 PST 2012
 */
var StackFiddle=function(){var b,c,d,e=!1,f={scripts:[],css:[],dataType:null},g="<div id='sf-wrapper'><div id='sf-header'><div id='sf-close'><a id='sf-close-link' href='#' class='simplemodal-close'>close</a></div><div id='sf-title'>StackFiddle</div></div><div id='sf-feedback'>Loading...</div><div id='sf-content'><form id='sf-form' method='post' action='http://jsfiddle.net/api/post/mootools/1.3.2/' target='_blank'><div id='sf-code-container'><div id='sf-code' /></div><div class='sf-form-group'><label for='sf-frameworks'>Framework</label><select id='sf-frameworks'><option>Loading...</option></select></div><input type='submit' value='Fiddle It!' id='sf-submit' /></form></div></div>",h="<div class='sf-form-group'><label class='sf-code-label' /><textarea /><input type='radio' value='html' id='sf-code-html' /><label for='sf-code-html'>HTML</label><input type='radio' value='css' id='sf-code-css' /><label for='sf-code-css'>CSS</label><input type='radio' value='js' id='sf-code-js' /><label for='sf-code-js'>JS</label><input type='radio' value='none' id='sf-code-none' /><label for='sf-code-none'>None</label><div class='sf-show-container'><a href='#' class='sf-show-more sf-show'>More</a> | <a href='#' class='sf-show-less sf-show'>Less</a></div></div>",j=function(a){var b=0,c=[];c=c.concat(f.scripts);var d=function(){b<c.length?ScriptLoader.addJs(c[b++],d):a()};d()},k=function(c){if(e!==!0){e=!0;for(a in c)f[a]=c[a];for(var d=0;d<f.css.length;d++)ScriptLoader.addCss(f.css[d]);j(function(){b=$(g);var a=b.find("#sf-form"),c=a.find("#sf-frameworks");l(),p(a,c),n(a),q()})}else l(),q()},l=function(){$(document.body).hasClass("StackFiddleOpen")!==!0&&($(document.body).addClass("StackFiddleOpen"),d=b.modal({closeHTML:null,overlayId:"sf-overlay",containerId:"sf-container",opacity:10,minWidth:350,autoPosition:!1,onOpen:function(a){a.overlay.fadeIn(200,function(){a.data.show(),a.container.css({height:"auto",top:"30px",right:"30px",left:"auto",position:"absolute"}),a.container.show()})},onClose:function(a){$(document.body).removeClass("StackFiddleOpen"),d.close()}}))},m=function(){if(c)return c;c=[];var a=document.getElementById("question");if(a){var b=a.getElementsByTagName("code");for(i=0;i<b.length;i++)b[i].parentNode.tagName.toLowerCase()==="pre"&&c.push(b[i])}return c},n=function(a){var c=function(){var a=5358066,b=window.location.pathname.split("/");for(var c=0;c<b.length;c++)if(b[c]=="questions"&&c+1<b.length){a=b[c+1];break}return a},d={js:["$","(","v",";"],html:["<","&"],css:[".","#"]},e=function(a,b){var c=$.trim(a.replace(/\/\*.+?\*\/|\/\/.*(?=[\n\r])/g,""))[0],e=!1;for(lang in d)if($.inArray(c,d[lang])>-1){b.find("input[value='"+lang+"']").prop("checked",!0),e=!0;break}e===!1&&b.find("input[value='js']").prop("checked",!0)};$.ajax({url:"http://api.stackoverflow.com/1.1/questions/"+c()+"?body=true",dataType:f.dataType,jsonp:"jsonp",success:function(a){var c=a.questions[0].body,d=$(c).find("code"),f=b.find("#sf-code"),g=b.find("#sf-feedback"),i=$("#question").find("code").map(function(){return codeParent=$(this).parent("pre"),codeParent.size()>0?codeParent.get():this});d.each(function(a){var b=$(h),c=b.find("textarea"),g=c.get(0),i=$(this);b.addClass("sf-code-group"),c.html(i.html()),b.find(".sf-code-label").html("Code Block "+(a+1)),b.find("input").each(function(){this.id=this.id+a,this.name="code"+a}),b.find("label").each(function(){var b=$(this);b.attr("for",b.attr("for")+a)}),f.append(b);var j=function(){c.height(0).css({resize:"none"});var a=c.get(0).scrollHeight>100?100:c.get(0).scrollHeight;c.height(a).css({resize:"auto"})};if(!c.is(":hidden"))j(),d.length==a+1&&o();else var k=20,l=window.setInterval(function(){if(!c.is(":hidden")||k--==0)window.clearInterval(l),j(),d.length==a+1&&o()},50);e(c.html(),b),b.hover(function(){m()[a]&&$(m()[a].parentNode).toggleClass("sf-highlight")})}),g.text("Choose a content type for each code block")}})},o=function(a){var c=b.find("#sf-code"),d=b.find("#sf-code-container"),e=c.closest("#sf-nano").size()>0;if(c.height()>400){e||(c.wrap("<div class='nano-container' />").wrap("<div id='sf-nano' class='nano' />").wrap("<div class='content' />"),c.closest(".nano-container").height(c.height()-100));var f=c.closest(".content");a=a?a.top:0;var g=a>f.offset().top+f.height()?{scrollTop:f.scrollTop()+100}:{};b.find("#sf-nano").nanoScroller(g)}else e&&d.html(c)};typeof XMLSerializer=="undefined"&&(XMLSerializer=function(){},XMLSerializer.prototype.serializeToString=function(a){if(a.xml){var b=a.xml;return a.nodeType==9&&(b=b.replace(/<\?xml.*?\?>\r/,"<?xml "+a.firstChild.nodeValue+"?>")),b.replace(/\r\n$/,"").replace(/( ux_uid.*?".*?")/g,"")}return null});var p=function(a,b){var c="http://query.yahooapis.com/v1/public/yql?q=select%20*%20from%20html%20where%20url%3D%22http%3A%2F%2Fjsfiddle.net%22%20and%20xpath%3D%22%2F%2Fselect%5B%40id%3D'js_lib'%5D%22&diagnostics=true",d=["Three.js (edge)","YUI 2.8.0r4"];$.ajax({url:c,dataType:f.dataType,success:function(a,c,e){var g=f.dataType==="jsonp"?$(a.results[0]):$(a).find("results").find("select");b.html((new XMLSerializer).serializeToString(g.get(0)));var h=b.find("option"),i=b.find("optgroup");h.each(function(){var a=$(this),b=a.text().replace(/[A-Za-z ()\-]*/g,"");b===""||$.inArray(b,d)>-1?a.remove():a.val("/"+a.closest("optgroup").attr("label")+"/"+b+"/")}),i.each(function(){var a=$(this);a.children().size()===0&&a.remove()})}})},q=function(){var a=b.find("#sf-form"),c=a.find("#sf-frameworks"),e=a.find(".sf-code-group");$(".sf-show-more",b[0]).live("click",function(a){var b=$(this),c=b.closest(".sf-form-group").find("textarea");return c.animate({height:"+=100px"},0,function(){o(b.offset())}),!1}),$(".sf-show-less",b[0]).live("click",function(a){var b=$(this),c=b.closest(".sf-form-group").find("textarea");return c.animate({height:c.height()<=100?13:"-=100px"},0,function(){o(b.offset())}),!1}),a.submit(function(){var b={},e=a.find("textarea"),f=$("input:radio:checked",a);f.each(function(){var a=$(this);textarea=a.siblings("textarea"),a.val()=="none"?textarea.attr("disabled","disabled"):(textarea.removeAttr("disabled"),textarea.attr("name",a.val()))}),$.each(["html","css","js"],function(b,c){var d=e.filter("[name='"+this+"']");if(d.size()>1){var f="";d.each(function(){var a=$(this);f+=a.val(),a.prop("disabled","disabled")});var g=$("<input>",{type:"hidden",name:c,value:f});a.append(g)}}),a.attr("action","http://jsfiddle.net/api/post"+c.val()),setTimeout(function(){d.close()},300)})};return{init:k}}();
/**
 * StackFiddle Link
 *    https://github.com/adamayres/stackfiddle/
 *  
 * Copyright (c) 2012, Adam Ayres 
 * 
 * Licensed under the MIT license:
 *    https://stackfiddle.com/MIT-LICENSE.txt
 *
 * Thu Jan 12 01:43:59 PST 2012
 */
(function(){var a=[],b=document.getElementById("sf-loader");b.parentNode.removeChild(b),(!window.hasOwnProperty("jQuery")||!ScriptLoader.isVersionLoaded(window.jQuery.fn.jquery,"1.6.0"))&&a.push("http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"),a.push("http://stackfiddle.com/js/libs/jquery.simplemodal.min.js"),a.push("http://stackfiddle.com/js/libs/jquery.nanoscroller.js"),StackFiddle.init({scripts:a,css:["http://stackfiddle.com/css/stackfiddle.css"],dataType:"jsonp"})})();