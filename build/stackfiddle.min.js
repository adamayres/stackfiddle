/**
 * Scriptloader
 *    https://github.com/adamayres/scriptloader/
 *  
 * Copyright (c) 2011, Adam Ayres 
 * 
 * Licensed under the MIT license:
 *    https://github.com/adamayres/scriptloader/raw/master/MIT-LICENSE.txt
 *
 * Sun Dec 25 00:49:33 PST 2011
 */
var ScriptLoader=function(){var a=document.head||document.getElementsByTagName("head")[0]||document.documentElement,b={},c=function(a,b){var c=!1,d=a.split("."),e=b.split(".");for(var f=0;f<e.length;f++){if(d[f]>e[f]){c=!0;break}d[f]==e[f]?c=!0:c=!1}return c},d=function(c,d,e){b.hasOwnProperty(c)||(b[c]=!1,d.onload=d.onreadystatechange=function(f,g){b[c]=!0;if(!d.readyState||/loaded|complete/.test(d.readyState))d.onload=d.onreadystatechange=null,!a||!d.parentNode,d=undefined,typeof e=="function"&&e()},a.insertBefore(d,a.firstChild))},e=function(a,b){var c=document.createElement("script");c.setAttribute("async","async"),c.setAttribute("src",a),c.setAttribute("type","text/javascript"),d(a,c,b)},f=function(a){var b=document.createElement("link");b.setAttribute("href",a),b.setAttribute("rel","stylesheet"),b.setAttribute("type","text/css"),d(a,b)};return{addJs:function(a,b){e(a,b)},addCss:function(a){f(a)},isAssetLoaded:function(a){return b[a]||!1},isVersionLoaded:function(a,b){return c(a,b)}}}()
/**
 * StackFiddle
 *    https://github.com/adamayres/stackfiddle/
 *  
 * Copyright (c) 2011, Adam Ayres 
 * 
 * Licensed under the MIT license:
 *    https://github.com/adamayres/stackfiddle/raw/master/MIT-LICENSE.txt
 *
 * Sun Dec 25 00:49:33 PST 2011
 */
var StackFiddle=function(){var a,b,c,d=!1,e=!1,f=!1,g="http://jsfiddle.net/api/post",h=g+"/mootools/1.3.2/",i="css/stackfiddle.css",j="js/jquery.simplemodal.min.js",k="http://ajax.googleapis.com/ajax/libs/jquery/1.5.1/jquery.min.js",l=function(a){ScriptLoader.addCss(i);var b=function(){ScriptLoader.addJs(j,a)};!window.hasOwnProperty("jQuery")||!ScriptLoader.isVersionLoaded(window.jQuery.fn.jquery,"1.4.4")?ScriptLoader.addJs(k,b):b()},m=function(){var a=$("#sf-loader");e!==!0&&(e=!0,b=$(q),c=b.find("#sf-form").hide(),w()),a.remove()},n=function(){m(),d!==!0&&(d=!0,a=b.modal({closeHTML:null,overlayId:"sf-overlay",containerId:"sf-container",opacity:10,minWidth:350,autoPosition:!1,onOpen:o,onClose:p}))},o=function(a){a.overlay.fadeIn(200,function(){a.data.show(),a.container.css({height:"auto",top:"30px",right:"30px",left:"auto",position:"absolute"}),a.container.fadeIn(200,function(){t()})})},p=function(b){d=!1,a.close()},q="<div id='sf-wrapper'><div id='sf-header'><div id='sf-close'><a href='#' class='simplemodal-close'>close</a></div><div id='sf-title'>Stack Fiddle It!</div></div><div id='sf-feedback'>Loading...</div><div id='sf-content'><form id='sf-form' method='post' action='"+h+"' target='_blank'>"+"<div id='sf-code' />"+"<div class='sf-form-group'>"+"<label for='sf-frameworks'>Framework</label>"+"<select id='sf-frameworks'><option>Loading...</option></select>"+"</div>"+"<input type='submit' value='Fiddle It!' id='sf-submit' />"+"</form>"+"</div>"+"</div>",r="<div class='sf-form-group'><label class='sf-code-label' /><textarea /><input type='radio' value='html' id='sf-code-html' /><label for='sf-code-html'>HTML</label><input type='radio' value='css' id='sf-code-css' /><label for='sf-code-css'>CSS</label><input type='radio' value='js' id='sf-code-js' /><label for='sf-code-js'>JS</label><input type='radio' value='none' id='sf-code-none' /><label for='sf-code-none'>None</label><div class='sf-show-container'><a href='#' class='sf-show-more sf-show'>More</a> | <a href='#' class='sf-show-less sf-show'>Less</a></div></div>",s=function(){var a=5365997,b=window.location.pathname.split("/");for(var c=0;c<b.length;c++)b[c]=="questions"&&c+1<b.length&&(a=b[c+1]);return a},t=function(){f!==!0&&(f=!0,$.ajax({url:"http://api.stackoverflow.com/1.1/questions/"+s()+"?body=true",dataType:"jsonp",jsonp:"jsonp",success:u}))},u=function(d){var e=d.questions[0].body,f=$(e).find("code"),g=b.find("#sf-code"),h=$(":input[type='radio']",c[0]),i=b.find("#sf-feedback"),j=$("#question").find("code").map(function(){codeParent=$(this).parent("pre");return codeParent.size()>0?codeParent.get():this});c.css({position:"absolute",left:-9999}).show(),f.each(function(a){var b=$(r),c=b.find("textarea"),d=b.find(".sf-show-more"),e=b.find(".sf-show-less");c.html($(this).html()),b.find(".sf-code-label").html("Code Block "+(a+1)),b.find("input").each(function(){this.id=this.id+a,this.name="code"+a}),b.find("label").each(function(){var b=$(this);b.attr("for",b.attr("for")+a)}),g.append(b),v(e,d,c),b.hover(function(){j.eq(a).addClass("sf-highlight")},function(){j.eq(a).removeClass("sf-highlight")})}),h.live("click",function(){var a=$(this);textarea=a.siblings("textarea"),a.val()=="none"?textarea.attr("disabled","disabled"):(textarea.removeAttr("disabled"),textarea.attr("name",a.val()))}),c.submit(function(){var b={},d=c.find("textarea");$.each(["html","css","js"],function(a,b){var e=d.filter("[name='"+this+"']");if(e.size()>1){var f="";e.each(function(){var a=$(this);f+=a.val(),a.attr("disabled","disabled")});var g=$("<input>",{type:"hidden",name:b,value:f});c.append(g)}}),setTimeout(function(){a.close()},300)});var k=c.outerHeight();c.height(0).css({position:"static",left:0}).hide(),b.animate({height:k},200,function(){b.css("height","auto"),c.fadeIn(200)}),i.text("Choose a content type for each code block")},v=function(a,b,c){var d=c.get(0),e=c.height();if(c.height()===d.scrollHeight){while(c.height()===d.scrollHeight)c.height(c.height()-1);c.height(c.height()+2)}b.click(function(){c.animate({height:"+=100px"},200);return!1}),a.click(function(){c.animate({height:c.height()<=100?10:"-=100px"},200);return!1})},w=function(a){var d="http://query.yahooapis.com/v1/public/yql?q=select%20*%20from%20html%20where%20url%3D%22http%3A%2F%2Fjsfiddle.net%22%20and%20xpath%3D%22%2F%2Fselect%5B%40id%3D'js_lib'%5D%22&diagnostics=true";$.ajax({url:d,dataType:"jsonp",success:function(a){var d=$(a.results[0]),e=d.find("option"),f=d.find("optgroup"),h=b.find("#sf-frameworks");e.each(function(){var a=$(this),b=a.text().replace(/[A-Za-z ()\-]*/g,"");b===""?a.remove():a.val("/"+a.closest("optgroup").attr("label")+"/"+b+"/")}),f.each(function(){var a=$(this);a.children().size()===0&&a.remove()}),h.replaceWith(d),d.change(function(){c.attr("action",g+d.val())})}})};l(n);return{open:function(){n()}}}()