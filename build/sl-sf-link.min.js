/**
 * Scriptloader
 *    https://github.com/adamayres/scriptloader/
 *  
 * Copyright (c) 2011, Adam Ayres 
 * 
 * Licensed under the MIT license:
 *    https://github.com/adamayres/scriptloader/raw/master/MIT-LICENSE.txt
 *
 * Sat Dec 31 20:11:11 PST 2011
 */
var ScriptLoader=function(){var a=document.head||document.getElementsByTagName("head")[0]||document.documentElement,b={},c=function(a,b){var c=!1,d=a.split("."),e=b.split(".");for(var f=0;f<e.length;f++){if(d[f]>e[f]){c=!0;break}d[f]==e[f]?c=!0:c=!1}return c},d=function(c,d,e){b.hasOwnProperty(c)||(b[c]=!1,d.onload=d.onreadystatechange=function(f,g){b[c]=!0;if(!d.readyState||/loaded|complete/.test(d.readyState))d.onload=d.onreadystatechange=null,!a||!d.parentNode,d=undefined,typeof e=="function"&&e()},a.insertBefore(d,a.firstChild))},e=function(a,b){var c=document.createElement("script");c.setAttribute("async","async"),c.setAttribute("src",a),c.setAttribute("type","text/javascript"),d(a,c,b)},f=function(a){var b=document.createElement("link");b.setAttribute("href",a),b.setAttribute("rel","stylesheet"),b.setAttribute("type","text/css"),d(a,b)};return{addJs:function(a,b){e(a,b)},addCss:function(a){f(a)},isAssetLoaded:function(a){return b[a]||!1},isVersionLoaded:function(a,b){return c(a,b)}}}()
/**
 * StackFiddle
 *    https://github.com/adamayres/stackfiddle/
 *  
 * Copyright (c) 2011, Adam Ayres 
 * 
 * Licensed under the MIT license:
 *    https://github.com/adamayres/stackfiddle/raw/master/MIT-LICENSE.txt
 *
 * Sat Dec 31 20:11:11 PST 2011
 */
var StackFiddle=function(){var a,b={stackUrl:"",scripts:[],onMouseoverCode:function(){},onMouseoutCode:function(){},openDialog:function(){}};isInit=!1;var c=function(a){var c="http://ajax.googleapis.com/ajax/libs/jquery/1.5.1/jquery.min.js",d=0,e=function(){d<b.scripts.length?ScriptLoader.addJs(b.scripts[d++],e):a()};!window.hasOwnProperty("jQuery")||!ScriptLoader.isVersionLoaded(window.jQuery.fn.jquery,"1.4.4")?ScriptLoader.addJs(c,e):e()},d=function(d){isInit!==!0?(isInit=!0,b=d,c(function(){a=$(e);var c=a.find("#sf-form");h(c),g(c),b.openDialog(a)})):b.openDialog(a)},e="<div id='sf-wrapper'><div id='sf-header'><div id='sf-close'><a href='#' class='simplemodal-close'>close</a></div><div id='sf-title'>Stack Fiddle It!</div></div><div id='sf-feedback'>Loading...</div><div id='sf-content'><form id='sf-form' method='post' action='http://jsfiddle.net/api/post/mootools/1.3.2/' target='_blank'><div id='sf-code' /><div class='sf-form-group'><label for='sf-frameworks'>Framework</label><select id='sf-frameworks'><option>Loading...</option></select></div><input type='submit' value='Fiddle It!' id='sf-submit' /></form></div></div>",f="<div class='sf-form-group'><label class='sf-code-label' /><textarea /><input type='radio' value='html' id='sf-code-html' /><label for='sf-code-html'>HTML</label><input type='radio' value='css' id='sf-code-css' /><label for='sf-code-css'>CSS</label><input type='radio' value='js' id='sf-code-js' /><label for='sf-code-js'>JS</label><input type='radio' value='none' id='sf-code-none' /><label for='sf-code-none'>None</label><div class='sf-show-container'><a href='#' class='sf-show-more sf-show'>More</a> | <a href='#' class='sf-show-less sf-show'>Less</a></div></div>",g=function(c){var d=function(){var a=5365997,c=b.stackUrl.split("/");for(var d=0;d<c.length;d++)if(c[d]=="questions"&&d+1<c.length){a=c[d+1];break}return a},e=function(a,b,c){var d=c.get(0),e=c.height();if(c.height()===d.scrollHeight){while(c.height()===d.scrollHeight)c.height(c.height()-1);c.height(c.height()+2)}b.click(function(){c.animate({height:"+=100px"},200);return!1}),a.click(function(){c.animate({height:c.height()<=100?10:"-=100px"},200);return!1})};$.ajax({url:"http://api.stackoverflow.com/1.1/questions/"+d()+"?body=true",dataType:"jsonp",jsonp:"jsonp",success:function(d){var e=d.questions[0].body,g=$(e).find("code"),h=a.find("#sf-code"),i=$(":input[type='radio']",c[0]),j=a.find("#sf-feedback"),k=$("#question").find("code").map(function(){codeParent=$(this).parent("pre");return codeParent.size()>0?codeParent.get():this});g.each(function(a){var c=$(f),d=c.find("textarea"),e=c.find(".sf-show-more"),g=c.find(".sf-show-less");d.html($(this).html()),c.find(".sf-code-label").html("Code Block "+(a+1)),c.find("input").each(function(){this.id=this.id+a,this.name="code"+a}),c.find("label").each(function(){var b=$(this);b.attr("for",b.attr("for")+a)}),h.append(c),c.hover(function(){b.onMouseoverCode(!0,a)},function(){b.onMouseoutCode(!1,a)})}),i.live("click",function(){var a=$(this);textarea=a.siblings("textarea"),a.val()=="none"?textarea.attr("disabled","disabled"):(textarea.removeAttr("disabled"),textarea.attr("name",a.val()))}),c.submit(function(){var a={},b=c.find("textarea");$.each(["html","css","js"],function(a,d){var e=b.filter("[name='"+this+"']");if(e.size()>1){var f="";e.each(function(){var a=$(this);f+=a.val(),a.attr("disabled","disabled")});var g=$("<input>",{type:"hidden",name:d,value:f});c.append(g)}})}),j.text("Choose a content type for each code block")}})},h=function(a){var b="http://query.yahooapis.com/v1/public/yql?q=select%20*%20from%20html%20where%20url%3D%22http%3A%2F%2Fjsfiddle.net%22%20and%20xpath%3D%22%2F%2Fselect%5B%40id%3D'js_lib'%5D%22&diagnostics=true";$.ajax({url:b,dataType:"jsonp",success:function(b){var c=$(b.results[0]),d=c.find("option"),e=c.find("optgroup"),f=a.find("#sf-frameworks");d.each(function(){var a=$(this),b=a.text().replace(/[A-Za-z ()\-]*/g,"");b===""?a.remove():a.val("/"+a.closest("optgroup").attr("label")+"/"+b+"/")}),e.each(function(){var a=$(this);a.children().size()===0&&a.remove()}),f.replaceWith(c),c.change(function(){a.attr("action","http://jsfiddle.net/api/post"+c.val())})}})};return{init:d,openDialog:function(){b.openDialog(a)}}}()
/**
 * StackFiddle Link
 *    https://github.com/adamayres/stackfiddle-link/
 *  
 * Copyright (c) 2011, Adam Ayres 
 * 
 * Licensed under the MIT license:
 *    https://github.com/adamayres/stackfiddle-link/raw/master/MIT-LICENSE.txt
 *
 * Sat Dec 31 20:11:11 PST 2011
 */
(function(){var a,b=function(){a||(a=$("#question").find("code").map(function(){var a=$(this).parent("pre");return a.size()>0?a.get():this}));return a},c=function(a,c){b().eq(i).toggleClass("sf-highlight")},d=!1,e,f=function(a){d!==!0&&(d=!0,e=a.modal({closeHTML:null,overlayId:"sf-overlay",containerId:"sf-container",opacity:10,minWidth:350,autoPosition:!1,onOpen:function(a){a.overlay.fadeIn(200,function(){a.data.show(),a.container.css({height:"auto",top:"30px",right:"30px",left:"auto",position:"absolute"}),a.container.show()})},onClose:function(a){d=!1,e.close()}}))},g=document.getElementById("sf-loader");g.parentNode.removeChild(g),ScriptLoader.addCss("http://stackfiddle.com/css/stackfiddle.css"),StackFiddle.init({stackUrl:window.location.pathname,scripts:["http://localhost:8000/build/jquery.simplemodal.min.js"],onMouseoverCode:c,onMouseoutCode:c,openDialog:f})})()